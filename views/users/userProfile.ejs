<%- include('../layouts/header.ejs'); -%>
<style>
    body{
    margin-top:20px;
    color: #1a202c;
    text-align: left;
    background-color: #ffff;    
}
.main-body {
    padding: 15px;
}
.card {
    box-shadow: 0 1px 3px 0 rgba(0,0,0,.1), 0 1px 2px 0 rgba(0,0,0,.06);
}

.card {
    position: relative;
    display: flex;
    flex-direction: column;
    min-width: 0;
    word-wrap: break-word;
    background-color: #fff;
    background-clip: border-box;
    border: 0 solid rgba(0,0,0,.125);
    border-radius: .25rem;
}

.card-body {
    flex: 1 1 auto;
    min-height: 1px;
    padding: 1rem;
}

.gutters-sm {
    margin-right: -8px;
    margin-left: -8px;
}

.gutters-sm>.col, .gutters-sm>[class*=col-] {
    padding-right: 8px;
    padding-left: 8px;
}
.mb-3, .my-3 {
    margin-bottom: 1rem!important;
}

.bg-gray-300 {
    background-color: #e2e8f0;
}
.h-100 {
    height: 100%!important;
}
.shadow-none {
    box-shadow: none!important;
}
.btn-info {
    color: #fff;
    background-color: #8f799a;
}
</style>

<div class="container">
    <div class="main-body">
    
          <!-- Breadcrumb -->
       
          <!-- /Breadcrumb -->
    
          <div class="row gutters-sm">
            <div class="col-md-4 mb-3">
              <div class="card">
                <div class="card-body">
                  <div class="d-flex flex-column align-items-center text-center">
                    <img src="https://bootdey.com/img/Content/avatar/avatar7.png" alt="Admin" class="rounded-circle" width="150">
                    <div class="mt-3">
                      <h4><%= user.name %></h4>
                    
                    </div>
                  </div>
                </div>
              </div>
              <div class="card mt-3">
                <ul class="list-group list-group-flush">
                  <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                    <a href="/orders"><h6 class="mb-0">My Orders</h6></a>
                    
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                    <a href="/whishlist"><h6 class="mb-0">My Wishlist</h6></a>
                    
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                    <a href="/cart"><h6 class="mb-0">My Cart</h6></a>
                  
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                    <a href="/editProfile"><h6 class="mb-0">Edit Profile</h6></a>
                
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                    <a href="/user-forgot-password"><h6 class="mb-0">Change Password</h6></a>
                  
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                    <a href="/userAddress"><h6 class="mb-0">Address</h6></a>
                    
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                    <a href="/logout"><h6 class="mb-0">LogOut</h6></a>
                  
                  </li>

                </ul>
              </div>
            </div>
            <div class="col-md-8">
              <div class="card mb-3">
                <div class="card-body">
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Full Name</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      <%=user.name  %>
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Email</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      <%=user.email  %>
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Phone</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                    <%=user.mobile%>
                    </div>
                  </div>
                  <hr>                                   
                 
                </div>
                <% if(message!=null){%>
                  <span style="color: red;"><%=message %></span>

               <% } %>

              </div>        
              <div class="text-center" >
                <p class="btn btn-dark btn-rounded mb-4" data-toggle="modal" data-target="#exampleModal">
                  Edit Profile</p>
              </div>
            </div>
          </div>

        </div>
    </div>
<!-- Modal -->
<div class="modal fade bg-transparent" id="exampleModal" tabindex="-1" aria-labelledby="ModalLabel"
aria-hidden="true">
<div class="modal-dialog modal-dialog-centered">
  <div class="modal-content bg-primary">
    <div class="modal-body bg-primary">
      <!-- Are you sure to delete this category?!
Once You deleted You cannot restore it!! -->
      <div class="login-page" style="background-color: lightgrey;">
        <div class="row ">
          <div class="col-lg-12 ">
            <h3 class="mb-3 text-center text-primary mt-5">Edit Profile</h3>
            <div class=" " style="background-color: lightgrey;">
              <div class=" row">
                <div class="col-md-12 pe-0">
                  <div class="form-left h-100 py-5 px-4">
                    <form action="/editprofile" method="post" class=" row g-4">
                      <div class="col-12">
                        <label>Full Name<span
                            class="text-danger">*</span></label>
                        <div class="input-group">
                          <div class="input-group-text"><i
                              class="bi bi-person-fill"></i>
                          </div>
                          <input type="text" name="name"
                            class=" form-control"
                           value="<%=user.name%>" 
                            >
                        </div>
                      </div>

                      <div class="col-12">
                        <label>Email<span
                            class="text-danger">*</span></label>
                        <div class="input-group">
                          <div class="input-group-text"><i
                              class="bi bi-lock-fill"></i>
                          </div>
                          <input type="email" name="emails" 
                          value="<%=user.email%>"
                          class=" form-control"
                            >
                        </div>
                      </div>
                      <div class="col-12">
                        <label>Phone Number<span
                            class="text-danger">*</span></label>
                        <div class="input-group">
                          <div class="input-group-text"><i
                              class="bi bi-lock-fill"></i>
                          </div>
                          <input type="text" name="phone"
                           value="<%=user.mobile%>
                           " class=" form-control"
                            required>
                        </div>
                      </div>


                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>

    <div class="modal-footer">
      <button type="button " class="btn btn-light rounded text-danger"
        data-dismiss="modal">Close</button>

      <button type="submit"  class="btn btn-light px-4 float-end rounded text-success ">
        Submit</button>
    </div>
    </form>
  </div>
</div>
</div>
</div>
    <!-- modal End -->
    <%- include('../layouts/footer.ejs'); -%>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-Vlq3XimscSt2AK2dPhR6I7jC/cgTJjOafYrj0LszxLx6i8W6zAgE0bZMjUZG6UZu" crossorigin="anonymous"></script>
