<%- include('../adminLayout/header.ejs') %>
<div class="container">
    <div class="bread-crumb flex-w p-l-25 p-r-15 p-t-30 p-lr-0-lg">
    
    </div>
</div>
<div id="page">
    
    <div class="container">
        <div class="mt-5 ">
            <h4></h4>
        </div>
    </div>
    <section class="mt-5 mb-5">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <table class="table table-striped" id="user-table">
                        <thead>
                            <tr>
                                <th scope="col">Order ID & Orderd Date</th>

                                <th scope="col">Expected delivery date</th>

                                <th scope="col">Total Bill</th>
                                <th scope="col">Payment Method</th>
                                <th scope="col">Status</th>
                                <th scope="col">Details</th>


                            </tr>
                        </thead>
                        <tbody>
                           
                                <% orderData.forEach(element => {
                                    
                              
                            
                             for( let i = 0; i < 1; i++ ) { %>
                            
                            
                            <tr>

                                <td scope="row">
                                    <div>Order ID :<%=orderData[i]._id%></div>
                                    <div>Orderd Date :<%=new Date(element.order[i].date).toLocaleDateString('en-GB')%></div>
                                    
                                </td>

                                <td>

                                    <div><%=new Date(element.order[i].arrivingDate).toLocaleDateString('en-GB')%> </div>
                                  
                                </td>
                                <td>
                                    <div>â‚¹ <%=element.grandTotal %></div>
                                    
                                </td>

                                <td>
                                    <div><%=element.paymentMethod %> </div>
                                </td>
                                 <td>
                                    
                                    <div><br><%=element.order[i].status %></div>
                                </td>

                                <td><a href="/admin/orderViews?id=<%=element._id %>" class="btn btn-primary">Details</a></td>
                            </tr>
                            <% } %>
                       <% }); %>
                            
                            

                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </section>

<nav aria-label="Page navigation example" style="display: flex; justify-content: center;">
        <ul class="pagination">
          <li class="page-item">
            <a class="page-link" href="#" aria-label="Previous">
              <span aria-hidden="true">&laquo;</span>
              <span class="sr-only">Previous</span>
            </a>
          </li>
          <% for(i=1;i<=totalPage;i++){ %>
            <% if(currentPage==i){ %>
          <li class="page-item active"><a class="page-link" href="/admin/orders?currentpage=<%= i %>"><%= i %></a></li>
            <%}else{ %>
          <li class="page-item"><a class="page-link" href="/admin/orders?currentpage=<%= i %>"><%= i %></a></li>
          <%}%>
          <% }%>
          <li class="page-item">
            <a class="page-link" href="#" aria-label="Next">
              <span aria-hidden="true">&raquo;</span>
              <span class="sr-only">Next</span>
            </a>
          </li>
        </ul>
      </nav>


<%- include('../adminLayout/footer.ejs') %>